{% extends "layout.html" %}
<!-- Extends the layout.html template for consistent styling and structure -->

{% block title %}
<!-- Title of the page displayed in the browser tab -->
History
{% endblock %}

{% block main %}
<!-- Main content of the page -->

<!-- Heading for the transaction history -->
<h1 class="my-4">Transaction History</h1>

<!-- Subheading displaying the username -->
<h2 class="my-4">Of, {{ session["username"] }}</h2>

<!-- Table to display the transaction history -->
<table class="table table-striped table-hover"
    style="margin: auto; width: 100%; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); border-top-right-radius: 1rem; border-top-left-radius: 1rem;">
    <!-- Table header -->
    <thead>
        <tr>
            <th scope="col">Transaction ID</th>
            <th scope="col">Transaction Type</th>
            <th scope="col">Symbol</th>
            <th scope="col">Shares</th>
            <th scope="col">Price</th>
            <th scope="col">Total_Price</th>
            <th scope="col">Date & Time</th>
        </tr>
    </thead>
    <!-- Table body with transaction details -->
    <tbody>
        {% for transaction in transactions %}
        <!-- Loop through each transaction -->
        <tr>
            <!-- Display transaction ID -->
            <th scope="row">{{ transaction.id }}</th>
            <!-- Display transaction type -->
            <td scope="row">{{ transaction.transaction_type }}</td>
            <!-- Display stock symbol -->
            <td scope="row">{{ transaction.symbol }}</td>
            <!-- Display number of shares -->
            <td scope="row">{{ transaction.shares }}</td>
            <!-- Display price per share -->
            <td scope="row">{{ transaction.price | usd}}</td>
            <!-- Display total transaction price -->
            <td scope="row">{{ transaction.total | float | usd}}</td>
            <!-- Display transaction date and time -->
            <td scope="row">{{ transaction.timestamp }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
